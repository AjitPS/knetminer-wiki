# Deploying Knetminer with Docker


## Introduction

Knetminer can be deployed in a quick and simple way, using the Docker container platform. In 
the simplest case, you just need to install the Docker environment and get our
[Knetminer image from DockerHub][10]. For more advanced uses, our image can be used with 
host-provided configurations. Additionally, you can customise our [image definitions](TODO). 
Details are explained in the follow.  

[10]: https://cloud.docker.com/u/knetminer/repository/docker/knetminer/knetminer


## The Knetminer Docker architecture

### Docker images
As usually, the main contained is defined by the [Dockerfile image file][20]. This builds 
what is needed to deploy our web applications (two .war files) on our Java web server 
(Tomcat).

This application image extends the [Dockerfile-base image][30]. This prepares a container 
with all the Maven-reachable dependencies downloaded and put in place into the container file 
system.

Finally, the base image depends on [Dockerfile-bare image][40]. This pulls up the 
[Andre's Tomcat container][50], which is eseentially a Debian with Java and Tomcat installed, 
and additionally deploys third-party dependencies that are needed by Knetminer (eg, Maven, 
the Node.js package manager, NPM).

The 

[20]: /Rothamsted/knetminer/blob/201904_new_docker/common/quickstart/Dockerfile
[30]: /Rothamsted/knetminer/blob/201904_new_docker/common/quickstart/Dockerfile-base
[40]: /Rothamsted/knetminer/blob/201904_new_docker/common/quickstart/Dockerfile-bare
[50]: https://hub.docker.com/r/andreptb/tomcat
